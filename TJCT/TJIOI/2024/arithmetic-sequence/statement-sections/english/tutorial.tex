An arithmetic sequence can be formed between numbers only if they all have the same common remainder when divided by $d$. After separating the values of the array based on their modulus $d$, for each modulus, we sort the array. Then, we can start off with an empty arithmetic sequence and loop through the array, checking if adding the current element to the end of the arithmetic sequence and possibly removing the first element will create a new arithmetic sequence of length $m$ that will increase our answer by $1$.
